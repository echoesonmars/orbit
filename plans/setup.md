# üöÄ OrbitAI Setup & Development Plan

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç –ø–æ—à–∞–≥–æ–≤—ã–π –ø–ª–∞–Ω –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ, —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã OrbitAI. 
–°—Ç–∞—Ç—É—Å—ã –∑–∞–¥–∞—á: 
- üî¥ To Do (–ù–µ –Ω–∞—á–∞—Ç–æ)
- üü° In Progress (–í —Ä–∞–±–æ—Ç–µ)
- üü¢ Done (–ì–æ—Ç–æ–≤–æ)

---

## 1. üóÑ –ë–∞–∑–∞ –î–∞–Ω–Ω—ã—Ö –∏ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (Supabase)
**–¶–µ–ª—å:** –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –Ω–∞–¥–µ–∂–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∞–Ω–Ω—ã—Ö —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –≥–µ–æ-–∑–∞–ø—Ä–æ—Å–æ–≤ (PostGIS) –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.
*   [x] ÔøΩ **–°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞:** –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–µ–∫—Ç –≤ Supabase.
*   [x] ÔøΩ **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ë–î:** –í–∫–ª—é—á–∏—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ `PostGIS` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –≥–µ–æ-–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏.
*   [x] üü¢ **–ú–∏–≥—Ä–∞—Ü–∏–∏ (infra/db):**
    *   –°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É `users` (—Å–≤—è–∑—å —Å Supabase Auth).
    *   –°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É `missions` (—Ö—Ä–∞–Ω–µ–Ω–µ–Ω–∏–µ BBox, –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –æ—Ä–±–∏—Ç—ã, —Å—Ç–∞—Ç—É—Å–∞).
    *   –°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É `predictions` (—Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–∞–±–æ—Ç—ã ML-–º–æ–¥–µ–ª–µ–π).
*   [ ] üî¥ **Auth:** –í–∫–ª—é—á–∏—Ç—å –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (Email/Password, Google).
*   [ ] üî¥ **Storage:** –°–æ–∑–¥–∞—Ç—å –±–∞–∫–µ—Ç `reports` –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö PDF.

---

## 2. üåê –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (apps/orbit-front)
**–¶–µ–ª—å:** –†–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π B2B-–¥–∞—à–±–æ—Ä–¥ –Ω–∞ Next.js —Å –∫–∞—Ä—Ç–æ–π.
*   [x] üü¢ **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è:** –°–æ–∑–¥–∞–Ω –ø—Ä–æ–µ–∫—Ç Next.js (App Router) + Tailwind CSS v3.
*   [ ] üî¥ **–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å—Ç–µ–π—Ç–∞:** –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Zustand –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è (—Ç–µ–∫—É—â–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∫–∞—Ä—Ç—ã, —Å—Ç–∞—Ç—É—Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏).
*   [ ] üî¥ **UI Components (Shadcn):** 
    *   –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –±–∞–∑–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (Button, Input, Card, Modal, Toast).
*   [ ] üî¥ **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ö–∞—Ä—Ç—ã:** 
    *   –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `react-leaflet` (–∏–ª–∏ Mapbox).
    *   –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `MapSelector` –¥–ª—è –≤—ã–¥–µ–ª–µ–Ω–∏—è BBox (Bounding Box) –Ω–∞ –∫–∞—Ä—Ç–µ.
*   [ ] üî¥ **–°—Ç—Ä–∞–Ω–∏—Ü—ã:**
    *   `/` (Landing).
    *   `/auth` (–í—Ö–æ–¥/–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ Supabase Auth).
    *   `/dashboard` (–ì–ª–∞–≤–Ω–∞—è —Ä–∞–±–æ—á–∞—è –ø–∞–Ω–µ–ª—å —Å –∫–∞—Ä—Ç–æ–π –∏ —Ñ–æ—Ä–º–∞–º–∏ –¥–ª—è ML-–∑–∞–¥–∞—á).
*   [ ] üî¥ **–°–≤—è–∑—å —Å API (lib/api.ts):** –ù–∞–ø–∏—Å–∞—Ç—å Axios/Fetch –∫–ª–∏–µ–Ω—Ç—ã –¥–ª—è –æ–±—â–µ–Ω–∏—è —Å `gateway`.

---

## 3. üõ° –£–ø—Ä–∞–≤–ª—è—é—â–∏–π –®–ª—é–∑ (services/gateway)
**–¶–µ–ª—å:** –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä –º–µ–∂–¥—É —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º –∏ —Ç—è–∂–µ–ª—ã–º –ò–ò-–±—ç–∫–µ–Ω–¥–æ–º.
*   [x] üü¢ **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è:** –°–æ–∑–¥–∞—Ç—å `package.json`, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `express`, `cors`, `zod`, `axios`.
*   [x] üü¢ **Middleware –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:**
    *   –ù–∞–ø–∏—Å–∞—Ç—å `authMiddleware.ts` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ JWT-—Ç–æ–∫–µ–Ω–æ–≤ –æ—Ç Supabase.
    *   (–í –ø—Ä–æ—Ü–µ—Å—Å–µ) –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Rate Limiting (–∑–∞—â–∏—Ç–∞ –æ—Ç —Å–ø–∞–º–∞ —Ç—è–∂–µ–ª—ã–º–∏ ML-–∑–∞–ø—Ä–æ—Å–∞–º–∏).
*   [x] üü¢ **–í–∞–ª–∏–¥–∞—Ü–∏—è (validators/):**
    *   –°–æ–∑–¥–∞—Ç—å Zod-—Å—Ö–µ–º—ã –¥–ª—è –≤—Å–µ—Ö –≤—Ö–æ–¥—è—â–∏—Ö POST-–∑–∞–ø—Ä–æ—Å–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `BBoxSchema`, `MissionPromptSchema`).
*   [x] üü¢ **–†–æ—É—Ç—ã (routes/):**
    *   `POST /api/v1/predict-value` -> –ø—Ä–æ–∫—Å–∏—Ä—É–µ—Ç –≤ ML-API.
    *   [ ] üî¥ `POST /api/v1/design-mission` -> –ø—Ä–æ–∫—Å–∏—Ä—É–µ—Ç –≤ ML-API.
*   [x] üü¢ **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (services/):** –ù–∞–ø–∏—Å–∞—Ç—å –∫–ª–∏–µ–Ω—Ç—ã –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —Å–µ—Ä–≤–∏—Å `ml-api`.

---

## 4. üß† ML Core & –†–∞—Å—á–µ—Ç—ã (services/ml-api)
**–¶–µ–ª—å:** –ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —è–¥—Ä–æ –Ω–∞ Python.
*   [x] üü¢ **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è:** –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ, –æ–±–Ω–æ–≤–∏—Ç—å `requirements.txt` (FastAPI, Pydantic, Scikit-learn, GeoPandas, Uvicorn).
*   [x] üü¢ **–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ FastAPI:**
    *   –ù–∞—Å—Ç—Ä–æ–∏—Ç—å `main.py` —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫ –∏ CORS (—Ç–æ–ª—å–∫–æ –¥–ª—è Gateway).
    *   –°–æ–∑–¥–∞—Ç—å Pydantic —Å—Ö–µ–º—ã (`schemas/`) –¥–ª—è —Ç–∏–ø–∏–∑–∞—Ü–∏–∏.
*   [ ] üî¥ **–ú–æ–¥—É–ª—å 1: Data Hub & Geo Processor:**
    *   –ù–∞–ø–∏—Å–∞—Ç—å —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è —Å—Ç—è–≥–∏–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –æ –ø–æ–≥–æ–¥–µ/—Ä–µ–ª—å–µ—Ñ–µ –ø–æ –ø–µ—Ä–µ–¥–∞–Ω–Ω–æ–º—É BBox.
*   [x] üü¢ **–ú–æ–¥—É–ª—å 2: Capture Value Predictor:**
    *   –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å dummy-–º–æ–¥–µ–ª—å (–∏–ª–∏ —Ä–µ–∞–ª—å–Ω—ã–π —Å–∫—Ä–∏–ø—Ç inference) —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º LightGBM.
    *   –°–æ–∑–¥–∞—Ç—å —ç–Ω–¥–ø–æ–∏–Ω—Ç `POST /predict/value`.
*   [ ] üî¥ **–ú–æ–¥—É–ª—å 3: Mission Designer:**
    *   –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å OpenAI API –¥–ª—è NLP –æ–±—Ä–∞–±–æ—Ç–∫–∏.
*   [ ] üî¥ **–ú–æ–¥—É–ª—å 4: Report Generator:**
    *   –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏—é PDF (ReportLab) –∏ –∑–∞–≥—Ä—É–∑–∫—É –≤ Supabase Storage.

---

## 5. üê≥ –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ –û—á–µ—Ä–µ–¥–∏ (infra/)
**–¶–µ–ª—å:** –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ –¥–µ–ø–ª–æ—è.
*   [x] üü¢ **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–æ–∫:** –°–æ–∑–¥–∞–Ω—ã –ø–∞–ø–∫–∏ –¥–ª—è Docker, Redis, DB.
*   [ ] üî¥ **Redis:** –î–æ–±–∞–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Redis –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á (–º–µ–∂–¥—É Gateway –∏ Worker).
*   [ ] üî¥ **Background Worker:** –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Celery (–∏–ª–∏ RQ) –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ—Ç–ª–æ–∂–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á (–Ω–∞–ø—Ä–∏–º–µ—Ä, `Scenario Simulator` –º–æ–∂–µ—Ç —Å—á–∏—Ç–∞—Ç—å—Å—è 10 –º–∏–Ω—É—Ç).
*   [x] üü¢ **Docker:**
    *   [ ] üî¥ –ù–∞–ø–∏—Å–∞—Ç—å —Ä–∞–±–æ—á–∏–π `Dockerfile.web` –¥–ª—è Next.js.
    *   [x] üü¢ –ù–∞–ø–∏—Å–∞—Ç—å —Ä–∞–±–æ—á–∏–π `Dockerfile.gateway` –¥–ª—è Node.js.
    *   [x] üü¢ –ù–∞–ø–∏—Å–∞—Ç—å —Ä–∞–±–æ—á–∏–π `Dockerfile.ml` –¥–ª—è Python.
*   [x] üü¢ **–û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è:** –ù–∞–ø–∏—Å–∞—Ç—å —Ñ–∏–Ω–∞–ª—å–Ω—ã–π `docker-compose.yml` –≤ –∫–æ—Ä–Ω–µ –¥–ª—è –ø–æ–¥—ä–µ–º–∞ –≤—Å–µ–π —Å–∏—Å—Ç–µ–º—ã (Postgres + Redis + Gateway + ML-API + Web) –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π: `docker-compose up`.

---

## ü§ù –û–±—â–∏–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã (shared/)
*   [ ] üî¥ **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è:** –ù–∞–ø–∏—Å–∞—Ç—å –ø–µ—Ä–≤—ã–µ –±–∞–∑–æ–≤—ã–µ TypeScript-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –≤ `shared/contracts/types.ts`, –∫–æ—Ç–æ—Ä—ã–µ —Å—Ç—Ä–æ–≥–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç Pydantic-—Å—Ö–µ–º–∞–º –≤ Python.
